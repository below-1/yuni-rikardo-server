(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{bcd3:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"q-pa-xl"},[a("q-toolbar",{staticClass:"bg-white"},[a("q-toolbar-title",{staticClass:"text-weight-bold"},[e._v("Daftar Guru")]),a("q-space"),a("q-input",{staticClass:"q-mr-md",attrs:{dense:"",filled:"","input-class":"text-right",label:"pencarian",unelevated:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("q-btn",{attrs:{to:"/app/guru/create",color:"green",icon:"add",label:"tambah guru",unelevated:""}})],1),a("q-table",{staticClass:"q-mt-md",attrs:{data:e.filtered,columns:e.columns,"row-key":"id","rows-per-page-options":[0],flat:""},scopedSlots:e._u([{key:"body-cell-actions",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{staticClass:"q-mr-md",attrs:{to:"/app/guru/"+t.row.id+"/edit",dense:"",unelevated:"",label:"edit",color:"blue",icon:"edit",size:"sm"}}),a("q-btn",{attrs:{dense:"",unelevated:"",label:"hapus",color:"red",icon:"delete",size:"sm"},on:{click:function(a){return e.confirmDelete(t.row.id)}}})],1)]}}])})],1)},i=[],l=(a("e6cf"),a("ded3")),n=a.n(l),o=a("2f62"),r={name:"ListGuru",data:()=>({items:[],errors:null,keyword:"",columns:[{name:"nip",required:!0,label:"NIP",align:"left",field:"nip",sortable:!0},{name:"nama",required:!0,label:"Nama",align:"left",field:"nama",sortable:!0},{name:"sex",required:!0,label:"jenis kelamin",align:"left",field:"sex",format:e=>"Laki"==e?"laki - laki":"perempuan",sortable:!0},{name:"actions",field:"id"}]}),computed:n()(n()({},Object(o["b"])({user:e=>e.user})),{},{filtered(){const e=this.keyword.toUpperCase();return this.items.filter((t=>t.nama.toUpperCase().includes(e)||t.nip.toUpperCase().includes(e)))}}),methods:{confirmDelete(e){const t=this.items.find((t=>t.id==e));if(!e)throw new Error(`item with id=${e} can't be found`);this.$q.dialog({dark:!0,title:"Konfirmasi",message:`Anda akan menghapus data guru ${t.nama}`,cancel:!0,persistent:!0}).onOk((()=>{this.deleteItem(e)}))},async deleteItem(e){const t=`/guru/${e}`;try{await this.$api.delete(t),this.$q.notify({message:"sukses menghapus data guru",color:"green"})}catch(a){console.log(a),this.$q.notify({message:"gagal menghapus data guru",color:"red"})}finally{this.loadItems()}},async loadItems(){const e={id_app_user:this.user.id};try{this.$q.loading.show({delay:500});const t=await this.$api.get("/guru",{params:e});this.items=t.data,console.log(this.items)}catch(t){console.log(t),this.errors="terjadi kesalahan"}finally{this.$q.loading.hide()}}},mounted(){this.loadItems()}},d=r,c=a("2877"),u=a("9989"),m=a("65c6"),p=a("6ac5"),f=a("2c91"),h=a("27f9"),b=a("9c40"),g=a("eaac"),w=a("db86"),q=a("eebe"),k=a.n(q),y=Object(c["a"])(d,s,i,!1,null,null,null);t["default"]=y.exports;k()(y,"components",{QPage:u["a"],QToolbar:m["a"],QToolbarTitle:p["a"],QSpace:f["a"],QInput:h["a"],QBtn:b["a"],QTable:g["a"],QTd:w["a"]})}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{e602:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("q-page",{staticClass:"q-pa-xl"},[t("q-toolbar",{staticClass:"bg-white"},[t("q-toolbar-title",{staticClass:"text-weight-bold"},[e._v("Daftar Kelas")]),t("q-space"),t("q-input",{staticClass:"q-mr-md",attrs:{dense:"",filled:"","input-class":"text-right",label:"pencarian",unelevated:""},model:{value:e.keyword,callback:function(a){e.keyword=a},expression:"keyword"}}),t("q-btn",{attrs:{to:"/app/kelas/create",color:"green",icon:"add",label:"tambah kelas",unelevated:""}})],1),t("q-table",{staticClass:"q-mt-md",attrs:{data:e.filtered,columns:e.columns,"row-key":"id","rows-per-page-options":[0],flat:""},scopedSlots:e._u([{key:"body-cell-actions",fn:function(a){return[t("q-td",{attrs:{props:a}},[t("q-btn",{staticClass:"q-mr-md",attrs:{to:"/app/kelas/"+a.row.id+"/edit",dense:"",unelevated:"",label:"edit",color:"blue",icon:"edit",size:"sm"}}),t("q-btn",{attrs:{dense:"",unelevated:"",label:"hapus",color:"red",icon:"delete",size:"sm"},on:{click:function(t){return e.confirmDelete(a.row.id)}}})],1)]}}])})],1)},l=[],n=(t("e6cf"),t("ded3")),i=t.n(n),o=t("2f62"),r={name:"ListKelas",data:()=>({items:[],errors:null,keyword:"",columns:[{name:"nama",required:!0,label:"nama",align:"left",field:"nama",sortable:!0,style:"font-family: monospace"},{name:"actions",field:"id"}]}),computed:i()(i()({},Object(o["b"])({user:e=>e.user})),{},{filtered(){const e=this.keyword.toUpperCase();return this.items.filter((a=>a.nama.toUpperCase().includes(e)))}}),methods:{confirmDelete(e){const a=this.items.find((a=>a.id==e));if(!e)throw new Error(`item with id=${e} can't be found`);this.$q.dialog({dark:!0,title:"Konfirmasi",message:`Anda akan menghapus data kelas ${a.nama}`,cancel:!0,persistent:!0}).onOk((()=>{this.deleteItem(e)}))},async deleteItem(e){const a=`/kelas/${e}`;try{await this.$api.delete(a),this.$q.notify({message:"sukses menghapus data kelas",color:"green"})}catch(t){console.log(t),this.$q.notify({message:"gagal menghapus data kelas",color:"red"})}finally{this.loadItems()}},async loadItems(){const e={id_app_user:this.user.id};try{this.$q.loading.show({delay:500});const a=await this.$api.get("/kelas",{params:e});this.items=a.data}catch(a){console.log(a),this.errors="terjadi kesalahan"}finally{this.$q.loading.hide()}}},mounted(){this.loadItems()}},d=r,c=t("2877"),m=t("9989"),u=t("65c6"),p=t("6ac5"),h=t("2c91"),f=t("27f9"),b=t("9c40"),k=t("eaac"),g=t("db86"),w=t("eebe"),q=t.n(w),y=Object(c["a"])(d,s,l,!1,null,null,null);a["default"]=y.exports;q()(y,"components",{QPage:m["a"],QToolbar:u["a"],QToolbarTitle:p["a"],QSpace:h["a"],QInput:f["a"],QBtn:b["a"],QTable:k["a"],QTd:g["a"]})}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{3159:function(a,t,e){},"37c0":function(a,t,e){"use strict";var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("q-item",{attrs:{clickable:"",tag:"a",to:a.link}},[a.icon?e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{name:a.icon}})],1):a._e(),e("q-item-section",[e("q-item-label",[a._v(a._s(a.title))]),e("q-item-label",{attrs:{caption:""}},[a._v("\n      "+a._s(a.caption)+"\n    ")])],1)],1)},l=[],n={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}},o=n,r=e("2877"),i=e("66e5"),c=e("4074"),u=e("0016"),d=e("0170"),p=e("eebe"),h=e.n(p),m=Object(r["a"])(o,s,l,!1,null,null,null);t["a"]=m.exports;h()(m,"components",{QItem:i["a"],QItemSection:c["a"],QIcon:u["a"],QItemLabel:d["a"]})},"6c44":function(a,t,e){"use strict";e("3159")},"95cc":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("q-layout",{attrs:{view:"hHh Lpr lFf"}},[e("q-header",{attrs:{elevated:""}},[e("q-toolbar",{staticClass:"bg-blue"},[e("q-btn",{attrs:{to:"/app",flat:"",icon:"keyboard_backspace"}}),e("q-toolbar-title",{staticClass:"text-uppercase"},[a._v("\n        Hasil Penjadwalan\n      ")])],1)],1),e("q-page-container",[e("q-page",{staticClass:"q-pa-none"},[e("div",{staticClass:"q-pa-none"},[e("q-table",{staticClass:"my-sticky-header-column-table",attrs:{id:"schedule_table",unelevated:"",data:a.data,columns:a.columns,"row-key":"name","rows-per-page-options":[0],"hide-pagination":!0,dense:!0,flat:!0,"wrap-cells":!0},scopedSlots:a._u([{key:"body",fn:function(t){return[t.row.separator?[e("q-tr",{key:"sch-row-separator-"+t.row.hari},[e("q-td",{staticClass:"text-bold text-lg"},[a._v("\n                  "+a._s(t.row.hari)+"\n                ")]),e("q-td",{staticClass:"bg-grey-2",attrs:{colspan:a.columns.length-1}})],1)]:[e("q-tr",[e("q-td",{key:"sch-row-head-"+t.row.hari+"-"+t.row.slots.join("_")},[a._v("\n                  "+a._s(t.row.slots[0])+"\n                ")]),a._l(t.row.rows,(function(s,l){return[e("q-td",{key:"sch-col-"+t.row.hari+"-"+t.row.i+"-"+l,class:"text-center sch-col guru_"+s.guru.id,attrs:{rowspan:s.jam},on:{mouseover:function(t){return a.tdMouseIn(s.guru.id)},mouseleave:function(t){return a.tdMouseOut(s.guru.id)}}},[e("div",{staticClass:"text-grey-9"},[a._v(a._s(s.guru.nama))]),e("div",{staticClass:"text-grey-9"},[a._v(a._s(s.mp.nama))])])]}))],2),a._l(t.row.jam-1,(function(s){return[e("q-tr",{key:"sch-row-fill-"+t.row.hari+"-"+(s+t.row.slots[0])},[e("q-td",[a._v("\n                    "+a._s(s+t.row.slots[0])+"\n                  ")])],1)]}))]]}}])})],1)])],1)],1)},l=[],n=(e("e6cf"),e("ddb0"),e("ded3")),o=e.n(n),r=e("37c0");function i(a){const t=137.508*a;return`hsl(${t},50%,75%)`}const c=[{title:"Guru",caption:"olah data guru",icon:"school",link:"/app/guru"},{title:"Mata Pelajaran",caption:"olah data mata pelajaran",icon:"code",link:"/app/mp"},{title:"Kelas",caption:"olah data mata pelajaran",icon:"code",link:"/app/kelas"},{title:"Penjadwalan",caption:"olah data penjadwalan",icon:"chat",link:"/app/scheduler"},{title:"Akun",caption:"olah data akun",icon:"record_voice_over",link:"/app/account"},{title:"Quasar Awesome",caption:"Community Quasar projects",icon:"favorite",link:"https://awesome.quasar.dev"}],u={0:"senin",1:"selasa",2:"rabu",3:"kamis",4:"jumat",5:"sabtu"};var d={name:"MainLayout",components:{EssentialLink:r["a"]},props:["task_id"],data(){return{leftDrawerOpen:!1,essentialLinks:c,kelas_list:[],columns:[{name:"label",required:!0,label:"Hari",align:"left"}],data:[],all_guru:{},all_mp:{},hari_map:u,swap_pairs:[]}},methods:{async loadScheduleMock(){const a=await this.$api.get(`/scheduler_task/${this.task_id}`),t=a.data.args.kelas_list;this.columns=[...this.columns,...t.map(((a,t)=>({name:`sch-col-${t}`,required:!0,label:a.nama,align:"center",sortable:!1})))];let e=null,s=1;console.log(a.data.result);let l=[];a.data.result.forEach((a=>{a.rows=a.rows.map((a=>o()(o()({},a),{},{guru:this.all_guru[a.guru_id],mp:this.all_mp[a.mp_id]}))),e!=a.hari&&(a.hari_format=this.hari_map[a.hari],e=a.hari,s=1,l.push({separator:!0,hari:this.hari_map[a.hari]}));let t=[];for(let e=0;e<a.jam;e++)t.push(e+s);s=t[t.length-1]+1,a.slots=t,l.push(a)})),this.data=l,console.log(this.data)},async loadAllGuru(){const a={id_app_user:this.user.id},t=await this.$api.get("/guru",{params:a});let e={};t.data.forEach(((a,t)=>{a.color=i(t+1),e[a.id]=a})),this.all_guru=e},async loadAllMp(){const a={id_app_user:this.user.id},t=await this.$api.get("/mp",{params:a});let e={};t.data.forEach((a=>{e[a.id]=a})),this.all_mp=e},tdMouseIn(a){const t=document.getElementById("schedule_table"),e=t.querySelectorAll(`.guru_${a}`);e.forEach((t=>{t.style.backgroundColor=this.all_guru[a].color}))},tdMouseOut(a){const t=document.getElementById("schedule_table"),e=t.querySelectorAll(`.guru_${a}`);e.forEach((a=>{a.style.backgroundColor=null}))}},async mounted(){await this.loadAllMp(),await this.loadAllGuru(),await this.loadScheduleMock()},computed:{user(){return this.$store.state.user}}},p=d,h=(e("6c44"),e("2877")),m=e("4d5a"),_=e("e359"),g=e("65c6"),w=e("9c40"),b=e("6ac5"),k=e("09e3"),f=e("9989"),y=e("eaac"),q=e("bd08"),v=e("db86"),Q=e("eebe"),j=e.n(Q),C=Object(h["a"])(p,s,l,!1,null,null,null);t["default"]=C.exports;j()(C,"components",{QLayout:m["a"],QHeader:_["a"],QToolbar:g["a"],QBtn:w["a"],QToolbarTitle:b["a"],QPageContainer:k["a"],QPage:f["a"],QTable:y["a"],QTr:q["a"],QTd:v["a"]})}}]);
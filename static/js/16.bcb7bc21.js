(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"9cb8":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("q-page",[e("div",{staticClass:"row q-pa-xl"},[e("div",{staticClass:"col-5"},[e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("h6",{staticClass:"q-ma-none q-pa-none"},[a._v("Form Edit Mata Pelajaran")])]),e("q-card-section",[e("q-form",{ref:"form",on:{submit:a.save}},[e("q-input",{staticClass:"q-mb-md",attrs:{label:"Nama",filled:"",rules:a.rules.nama},model:{value:a.item.nama,callback:function(t){a.$set(a.item,"nama",t)},expression:"item.nama"}}),e("q-input",{staticClass:"q-mb-md",attrs:{label:"Total Jam",type:"number",min:"2",max:"6",filled:"",rules:a.rules.jpm},model:{value:a.item.jpm,callback:function(t){a.$set(a.item,"jpm",a._n(t))},expression:"item.jpm"}}),e("div",[e("q-btn",{staticClass:"q-mr-md",attrs:{label:"simpan",type:"submit",color:"blue",depressed:""}}),e("q-btn",{attrs:{label:"reset",type:"reset",depressed:""}})],1)],1)],1)],1)],1)])])},i=[],n=(e("e6cf"),e("ded3")),l=e.n(n);var r={name:"CreateGuru",props:["id"],data:()=>({item:{nama:"",jpm:3},errors:null,rules:{nama:[a=>!!a||"Nama harus diisi"],jpm:[a=>!!a||"Jam Per Minggu harus diisi",a=>a>=2||a<=6||"Jam tidak valid"]}}),methods:{async loadItem(){const a=`/mp/${this.id}`;try{const t=await this.$api.get(a),{data:e}=t;this.item={nama:e.nama,jpm:e.jpm}}catch(t){console.log(t),this.$q.notify({message:"gagal memuat data mata pelajaran",color:"red"})}},async save(){const a=this.$refs.form.validate();if(!a)return void alert("data tidak valid");const t=l()({},this.item),e=`/mp/${this.id}`;try{this.$q.loading.show({delay:500});const a=await this.$api.put(e,t);console.log(a.data),this.$q.notify({message:"sukses mengubah data mata pelajaran",color:"green"}),this.$router.back()}catch(s){console.log(s),this.errors="terjadi kesalahan",this.$q.notify({message:"gagal mengubah data mata pelajaran",color:"red"})}finally{this.$q.loading.hide()}}},mounted(){this.loadItem()}},m=r,o=e("2877"),d=e("9989"),c=e("f09f"),p=e("a370"),u=e("0378"),h=e("27f9"),f=e("9c40"),b=e("eebe"),g=e.n(b),q=Object(o["a"])(m,s,i,!1,null,null,null);t["default"]=q.exports;g()(q,"components",{QPage:d["a"],QCard:c["a"],QCardSection:p["a"],QForm:u["a"],QInput:h["a"],QBtn:f["a"]})}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"348e":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("q-page",[e("div",{staticClass:"row q-pa-xl"},[e("div",{staticClass:"col-5"},[e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("h6",{staticClass:"q-ma-none q-pa-none"},[a._v("Form Tambah Input Jadwal")])]),e("q-card-section",[e("q-form",{on:{submit:a.save}},[e("q-select",{staticClass:"q-mb-md",attrs:{"emit-value":"","map-options":"",options:a.options_guru,label:"Guru",filled:""},model:{value:a.item.id_guru,callback:function(t){a.$set(a.item,"id_guru",a._n(t))},expression:"item.id_guru"}}),e("q-select",{staticClass:"q-mb-md",attrs:{"emit-value":"","map-options":"",options:a.options_mp,label:"Mata Pelajaran",filled:""},model:{value:a.item.id_mata_pelajaran,callback:function(t){a.$set(a.item,"id_mata_pelajaran",a._n(t))},expression:"item.id_mata_pelajaran"}}),e("q-input",{staticClass:"q-mb-md",attrs:{type:"number",min:"2",max:"6",label:"Jumlah Jam Mengajar Per Minggu",filled:""},model:{value:a.item.jam,callback:function(t){a.$set(a.item,"jam",a._n(t))},expression:"item.jam"}}),e("div",[e("q-btn",{staticClass:"q-mr-md",attrs:{label:"simpan",type:"submit",color:"blue",depressed:""}}),e("q-btn",{attrs:{label:"reset",type:"reset",depressed:""}})],1)],1)],1)],1)],1)])])},i=[],l=(e("e6cf"),e("ded3")),n=e.n(l),r=e("2f62");var m={name:"CreateJadwalParam",data:()=>({nama:"",master:{mata_pelajaran:[],guru:[],kelas:[]},item:{id_mata_pelajaran:null,id_guru:null,jam:3},options:{mata_pelajaran:[],guru:[]},errors:null,rules:{nama:[a=>!!a||"Nama harus diisi"]}}),computed:n()(n()({},Object(r["b"])({user:a=>a.user})),{},{scopedParams(){return{params:{id_app_user:this.user.id}}},options_mp(){return this.master.mata_pelajaran.map((a=>({label:a.nama,value:a.id})))},options_guru(){return this.master.guru.map((a=>({label:a.nama,value:a.id})))},selected_guru(){return this.item.id_guru?this.master.guru.find((a=>a.id==this.id_guru)):null},selected_mp(){return this.item.id_mata_pelajaran?this.master.mata_pelajaran.find((a=>a.id==this.id_mata_pelajaran)):null},max_hours(){return selected_mp?selected_mp.jam_per_minggu*this.kelas.length:null}}),methods:{async loadGuru(){try{const a=await this.$api.get("/guru",this.scopedParams);this.master.guru=a.data}catch(a){console.log(a),this.$q.notify({message:"gagal memuat data guru"})}},async loadMataPelajaran(){try{const a=await this.$api.get("/mp",this.scopedParams);this.master.mata_pelajaran=a.data}catch(a){console.log(a),this.$q.notify({message:"gagal memuat data mata_pelajaran"})}},async loadKelas(){try{const a=await this.$api.get("/kelas",this.scopedParams);this.master.kelas=a.data}catch(a){console.log(a),this.$q.notify({message:"gagal memuat data kelas"})}},async save(){const a={id_app_user:this.user.id},t=n()({},this.item);try{this.$q.loading.show({delay:500});await this.$api.post("/input_sch",t,{params:a});this.$q.notify({message:"sukses menambah data input penjadwalan",color:"green"}),this.$router.back()}catch(e){console.log(e),this.errors="terjadi kesalahan",this.$q.notify({message:"gagal menambah data input penjadwalan",color:"red"})}finally{this.$q.loading.hide()}}},async mounted(){await this.loadGuru(),await this.loadMataPelajaran()}},u=m,o=e("2877"),d=e("9989"),p=e("f09f"),c=e("a370"),h=e("0378"),g=e("ddd8"),_=e("27f9"),b=e("9c40"),j=e("eebe"),f=e.n(j),q=Object(o["a"])(u,s,i,!1,null,null,null);t["default"]=q.exports;f()(q,"components",{QPage:d["a"],QCard:p["a"],QCardSection:c["a"],QForm:h["a"],QSelect:g["a"],QInput:_["a"],QBtn:b["a"]})}}]);